# SQL Parts
- DML (Data Manipulation Language)
- Integrity: The DDL includes commands for defining views
- View Definition: DDL includes commands for defining views
- Transaction Control
- Embedded SQL and dynamic SQL
- Authorization
- DDL (Data Definition Language)
	- Schema for each relation
	- types of values associated with each attribute
	- the integrity constraints:
		- Primary Key - ensure that each record in a table is unique
		- Foreign Key - enforces links between 2 tables
		- Not Null
		- Unique
	- set of indices to be maintained for each relation
	- security and authorization information for each relation
	- the physical storage structure of each relation on disk
# Domain Types in SQL
	- char(n)
	- varchar(n)
	- int
	- smallint
	- numeric(p,d)
	- real, double precision
	- float (n)
# Updates to Tables
- Insert
- Delete
- Drop Table
- Alter
# The WHERE clause
- definition: specifies condiitons that the result must satisfy
	- corresponds to the selection predicate of relational algebra
- To find all CS dept. instructors
	```
	select name
	from instructor
	where dept_name = 'Comp. Sci.'
	```
# The FROM clause
- lists the relations involved in the query
	- corresponds to the Cartesian product operation of the relational algebra
# The RENAME operation
- allows renaming relations and attributes using the 'as' clause
	- old-name as new-name
# Self Join Operation
- Join of a table with itself
	- Example: Relation employee-supervisor
	- Find the supervisor of "bob"
	- find the supervisor of the supervisor of "bob"
	- can you find ALL the supervisors (direct and indirect of "bob)
# String Operations
- SQL includes string matching operations
- % -> can match any substring
- _ -> can match any (single) character
- Patters are case sensitive
- Examples:
- 'Intro%' matches any string beginning with "Intro"
- "%Comp%" matches any string containing "Comp" as a substring
- "_ _  _" matches any string of exactly 3 characters
- " _ _ _ %"matches any string of at least 3 characters
- Concatenation "||"
- Example:
	- SELECT name FROM employees WHERE name LIKE 'A%';
	- SELECT name FROM employees WHERE name LIKE '%son%'
	- SELECT name FROM employees WHERE name LIKE '_e%';
	- SELECT name FROM employees WHERE name LIKE '%\%%' ESCAPE;
# NULL values
- It's possible for tuples to have a null value, denoted by "null"
- null signifies an unknown value or that a value does not exist
- The result of any arithmetic expression involving null is null
	- Example: 5 + null returns null
- The predicate is null can be used to check for null values
	- Example:
		- SELECT * FROM contacts WHERE email IS NULL;
	- No comparison operations can be done with null as well
		- `NULL AND TRUE` → `NULL`
		- `NULL OR TRUE` → `TRUE`
		- `NULL AND FALSE` → `FALSE`
		- `NULL OR FALSE` → `NULL`
# Aggregate Functions
- AVG
- MIN
- MAX
- SUM
- COUNT
- HAVING Clause
	```
	select dept_name, ave (salary) as avg_salary
	from instructor
	group by dept_name
	having avg (salary) > 42000
	```
- Nested Subqueries
```
SELECT name FROM employees
WHERE id IN (
    SELECT manager_id FROM departments
    WHERE location_id = (
        SELECT id FROM locations WHERE city = 'New York'
    )
);
```
- Single-Row Subqueries
```
SELECT name FROM employees
WHERE salary = (SELECT MAX(salary) FROM employees);
```
- Multiple-Row Subqueries
```
SELECT name FROM employees
WHERE department_id IN (SELECT id FROM departments WHERE location_id = 2);
```
# Sets
- Membership: Set membership in SQL refers to checking if a value exists within a set of values, typically using the `IN` operator.
```
SELECT name FROM employees
WHERE department_id IN (1, 2, 3);
```
- Comparison: "some": Compares a value to each value in a set, returns true if the condition is true for at least one value.
```
SELECT name FROM employees
WHERE salary > SOME (SELECT salary FROM employees WHERE department_id = 2);
```
- Comparison: "all":  Compares a value to all values in a set, returns true only if the condition is true for every value.
```
SELECT name FROM employees
WHERE salary > ALL (SELECT salary FROM employees WHERE department_id = 2);
```
# Empty Relations
- Using the "Exists" Clause
# Subqueries in the Form Clause